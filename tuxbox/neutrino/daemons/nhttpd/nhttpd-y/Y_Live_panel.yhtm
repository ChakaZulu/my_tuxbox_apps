<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
<meta http-equiv="refresh" content="300; URL=/Y_Live_panel.yhtm">
<link rel="stylesheet" type="text/css" href="/Y_Main.css">
<SCRIPT LANGUAGE="JavaScript">
function enablePanel(state)
{
	if(state == 1)
	{
		document.x.bouquets.disabled=false;
		document.x.channels.disabled=false;
		document.x.go.disabled=false;
		document.x.yswitch.disabled=false;
		document.x.epg.disabled=false;
	}
	else
	{
		document.x.bouquets.disabled=true;
		document.x.channels.disabled=true;
		document.x.go.disabled=true;
		document.x.yswitch.disabled=true;
		document.x.epg.disabled=true;
	}
}

function changeChannel()
{
	enablePanel(0);

	var sel=document.x.channels.selectedIndex;
	if(sel != -1)
	{
		channel = document.x.channels[sel].value;
		parent.live.do_stop();
		{=if-equal:{=func:get_mode=}~tv~
		parent.live.doToggleExpertMode(1);
		~=}
		parent.live.location.href="Y_Live_Wait.yhtm?execute=script:Y_Live%20zapto%20"+channel/*+audio*/;
	}
	enablePanel(1);
}
function view_epg()
{
	var sel=document.x.channels.selectedIndex;
	if(sel != -1)
	{
		channel = document.x.channels[sel].value;
		window.open("/fb/epg.dbox2?eventlist="+channel,"preview");
	}
}
function yswitchto()
{
	enablePanel(0);
	parent.live.do_stop();
	parent.live.location.href="/Y_Wait.htm";
	parent.location.href="Y_Live_View.yhtm?execute=script:Y_Live%20switchto%20{=if-equal:{=func:get_mode=}~tv~Radio~TV=}";
}
</SCRIPT>
</head>
<body style="background-color: #f0faff">
<form name="x" action="/Y_Live_panel.yhtm" method="get">
	<table class="y_live_table" cellspacing="0" bgcolor="#F0FAFF">
		<TR><TD>
			<select size="1" class="y_live_bouquets" name="bouquets" onChange="document.x.submit()" title="select bouquet - channels will be updated">
			{=func:get_bouquets_as_dropdown {=if-empty:{=bouquets=}~{=func:get_actual_bouquet_number=}~{=bouquets=}=}=}
			</select>
			&nbsp;<button name="yswitch" class="y_live_button" type="button" title="toggle to Radio/TV" onClick="yswitchto()">
			{=if-equal:{=func:get_mode=}~tv~Radio~TV=}</button> <font size="8"><b>{=var-set:help_url=Neutrino:yWeb:Live=}{=include-block:Y_Blocks.txt;wiki_help=}</b></font>
		</TD></TR>
		<TR><TD>
			<select size="1" class="y_live_channels" name="channels" title="select channel - use go to zap">
			{=func:get_channels_as_dropdown {=if-empty:{=bouquets=}~{=func:get_actual_bouquet_number=}~{=bouquets=}=} {=if-empty:{=channels=}~{=func:get_actual_channel_id=}~{=channels=}=}=}
			</select>
			&nbsp;<button name="go" class="y_live_button" type="button" title="change channel" onClick="changeChannel()">Go</button>
			<button name="epg" class="y_live_button" type="button" title="view epg for selected channel" onClick="view_epg()">EPG</button>
		</TD></TR>
	</table>
</form>

</body>
</html>
